{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\WILLIAM\\\\Desktop\\\\hotel-system\\\\frontend\\\\src\\\\components\\\\cashier\\\\AddChargesModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { X, Plus, Trash2, Search, ShoppingCart, Package } from 'lucide-react';\nimport api, { addCharges, getProducts } from '../../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddChargesModal = ({\n  guest,\n  onClose,\n  onAdded\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingProducts, setLoadingProducts] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('all');\n  const [showProductSelector, setShowProductSelector] = useState(true);\n  useEffect(() => {\n    loadProducts();\n  }, []);\n  useEffect(() => {\n    filterProducts();\n  }, [products, searchTerm, categoryFilter]);\n  const loadProducts = async () => {\n    try {\n      const data = await api.get('/cashier/products', {\n        params: {\n          is_active: true\n        }\n      }).then(r => r.data);\n      setProducts(data);\n      setFilteredProducts(data);\n    } catch (error) {\n      console.error('Error al cargar productos:', error);\n      alert('Error al cargar productos');\n    } finally {\n      setLoadingProducts(false);\n    }\n  };\n  const filterProducts = () => {\n    let filtered = [...products];\n    if (searchTerm) {\n      filtered = filtered.filter(p => {\n        var _p$description;\n        return p.name.toLowerCase().includes(searchTerm.toLowerCase()) || ((_p$description = p.description) === null || _p$description === void 0 ? void 0 : _p$description.toLowerCase().includes(searchTerm.toLowerCase()));\n      });\n    }\n    if (categoryFilter !== 'all') {\n      filtered = filtered.filter(p => p.category === categoryFilter);\n    }\n    setFilteredProducts(filtered);\n  };\n  const addToCart = product => {\n    const existing = cart.find(item => item.product_id === product.id);\n    if (existing) {\n      setCart(cart.map(item => item.product_id === product.id ? {\n        ...item,\n        quantity: item.quantity + 1\n      } : item));\n    } else {\n      setCart([...cart, {\n        product_id: product.id,\n        description: product.name,\n        quantity: 1,\n        unit_price: parseFloat(product.price),\n        tax_rate: parseFloat(product.tax_rate) || 0,\n        category: product.category\n      }]);\n    }\n  };\n  const removeFromCart = productId => {\n    setCart(cart.filter(item => item.product_id !== productId));\n  };\n  const updateQuantity = (productId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(productId);\n    } else {\n      setCart(cart.map(item => item.product_id === productId ? {\n        ...item,\n        quantity: parseInt(quantity)\n      } : item));\n    }\n  };\n  const calculateItemTotal = item => {\n    const subtotal = item.unit_price * item.quantity;\n    const tax = subtotal * (item.tax_rate / 100);\n    return subtotal + tax;\n  };\n  const calculateTotal = () => {\n    return cart.reduce((sum, item) => sum + calculateItemTotal(item), 0);\n  };\n  const calculateSubtotal = () => {\n    return cart.reduce((sum, item) => sum + item.unit_price * item.quantity, 0);\n  };\n  const calculateTotalTax = () => {\n    return cart.reduce((sum, item) => {\n      const subtotal = item.unit_price * item.quantity;\n      return sum + subtotal * (item.tax_rate / 100);\n    }, 0);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (cart.length === 0) {\n      alert('Agregue productos al carrito');\n      return;\n    }\n    setLoading(true);\n    try {\n      await addCharges(guest.id, cart);\n      alert('Cargos agregados exitosamente');\n      onAdded();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error al agregar cargos');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getCategoryLabel = category => {\n    const labels = {\n      minibar: 'Minibar',\n      restaurant: 'Restaurant',\n      laundry: 'Lavandería',\n      spa: 'Spa',\n      other: 'Otros'\n    };\n    return labels[category] || category;\n  };\n  const getCategoryColor = category => {\n    const colors = {\n      minibar: 'bg-blue-100 text-blue-800',\n      restaurant: 'bg-green-100 text-green-800',\n      laundry: 'bg-purple-100 text-purple-800',\n      spa: 'bg-pink-100 text-pink-800',\n      other: 'bg-gray-100 text-gray-800'\n    };\n    return colors[category] || colors.other;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center p-6 border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold\",\n            children: [\"Agregar Cargos Extras - Hab. \", guest.room_number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-1\",\n            children: [guest.full_name, \" | Total actual: Bs. \", parseFloat(guest.total_amount).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-400 hover:text-gray-600\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-lg flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Package, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), \"Productos Disponibles\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowProductSelector(!showProductSelector),\n                className: \"text-sm text-blue-600 hover:text-blue-800\",\n                children: showProductSelector ? 'Ocultar' : 'Mostrar'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), showProductSelector && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [/*#__PURE__*/_jsxDEV(Search, {\n                    className: \"absolute left-3 top-3 text-gray-400 w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"input pl-10\",\n                    placeholder: \"Buscar productos...\",\n                    value: searchTerm,\n                    onChange: e => setSearchTerm(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"input\",\n                  value: categoryFilter,\n                  onChange: e => setCategoryFilter(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"all\",\n                    children: \"Todas las categor\\xEDas\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"minibar\",\n                    children: \"Minibar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"restaurant\",\n                    children: \"Restaurant\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"laundry\",\n                    children: \"Lavander\\xEDa\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"spa\",\n                    children: \"Spa\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"other\",\n                    children: \"Otros\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 max-h-96 overflow-y-auto border rounded-lg p-2\",\n                children: loadingProducts ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-center py-8\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 23\n                }, this) : filteredProducts.length > 0 ? filteredProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border rounded-lg p-3 hover:bg-blue-50 cursor-pointer transition-colors\",\n                  onClick: () => addToCart(product),\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-semibold\",\n                        children: product.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 230,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500 line-clamp-1\",\n                        children: product.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `badge text-xs mt-1 ${getCategoryColor(product.category)}`,\n                        children: getCategoryLabel(product.category)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 234,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-right ml-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-bold text-green-600\",\n                        children: [\"Bs. \", parseFloat(product.price).toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 31\n                      }, this), product.tax_rate > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [\"+\", product.tax_rate, \"% imp.\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 27\n                  }, this)\n                }, product.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 25\n                }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center py-8 text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(Package, {\n                    className: \"w-12 h-12 mx-auto mb-2 opacity-50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"No se encontraron productos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-lg flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), \"Carrito (\", cart.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-2 border-dashed rounded-lg p-8 text-center text-gray-400\",\n              children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                className: \"w-12 h-12 mx-auto mb-2 opacity-50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Carrito vac\\xEDo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"Selecciona productos para agregar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 max-h-80 overflow-y-auto\",\n                children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border rounded-lg p-3 bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-semibold text-sm\",\n                        children: item.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 282,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `badge text-xs ${getCategoryColor(item.category)}`,\n                        children: getCategoryLabel(item.category)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 283,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => removeFromCart(item.product_id),\n                      className: \"text-red-500 hover:text-red-700\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => updateQuantity(item.product_id, item.quantity - 1),\n                        className: \"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded flex items-center justify-center\",\n                        children: \"-\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 297,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        min: \"1\",\n                        value: item.quantity,\n                        onChange: e => updateQuantity(item.product_id, e.target.value),\n                        className: \"w-16 text-center border rounded py-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => updateQuantity(item.product_id, item.quantity + 1),\n                        className: \"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded flex items-center justify-center\",\n                        children: \"+\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-right\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm text-gray-600\",\n                        children: [\"Bs. \", item.unit_price.toFixed(2), \" x \", item.quantity]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 318,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-bold text-green-600\",\n                        children: [\"Bs. \", calculateItemTotal(item).toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 321,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 25\n                  }, this)]\n                }, item.product_id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t pt-4 space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Subtotal:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: [\"Bs. \", calculateSubtotal().toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 21\n                }, this), calculateTotalTax() > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Impuestos:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: [\"Bs. \", calculateTotalTax().toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-lg font-bold pt-2 border-t\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Total Cargos:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-green-600\",\n                    children: [\"Bs. \", calculateTotal().toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-yellow-50 border border-yellow-200 p-3 rounded-lg\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-yellow-800\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Nuevo total de la cuenta:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 23\n                  }, this), \" Bs. \", (parseFloat(guest.total_amount) + calculateTotal()).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            disabled: loading || cart.length === 0,\n            className: \"btn-success flex-1\",\n            children: loading ? 'Procesando...' : `Confirmar Cargos (Bs. ${calculateTotal().toFixed(2)})`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"btn-secondary flex-1\",\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n_s(AddChargesModal, \"/CODTtCNEZMGHhY6ieTF07XAr+k=\");\n_c = AddChargesModal;\nexport default AddChargesModal;\nvar _c;\n$RefreshReg$(_c, \"AddChargesModal\");","map":{"version":3,"names":["React","useState","useEffect","X","Plus","Trash2","Search","ShoppingCart","Package","api","addCharges","getProducts","jsxDEV","_jsxDEV","Fragment","_Fragment","AddChargesModal","guest","onClose","onAdded","_s","products","setProducts","filteredProducts","setFilteredProducts","cart","setCart","loading","setLoading","loadingProducts","setLoadingProducts","searchTerm","setSearchTerm","categoryFilter","setCategoryFilter","showProductSelector","setShowProductSelector","loadProducts","filterProducts","data","get","params","is_active","then","r","error","console","alert","filtered","filter","p","_p$description","name","toLowerCase","includes","description","category","addToCart","product","existing","find","item","product_id","id","map","quantity","unit_price","parseFloat","price","tax_rate","removeFromCart","productId","updateQuantity","parseInt","calculateItemTotal","subtotal","tax","calculateTotal","reduce","sum","calculateSubtotal","calculateTotalTax","handleSubmit","e","preventDefault","length","_error$response","_error$response$data","response","getCategoryLabel","labels","minibar","restaurant","laundry","spa","other","getCategoryColor","colors","className","children","room_number","fileName","_jsxFileName","lineNumber","columnNumber","full_name","total_amount","toFixed","onClick","type","placeholder","value","onChange","target","min","disabled","_c","$RefreshReg$"],"sources":["C:/Users/WILLIAM/Desktop/hotel-system/frontend/src/components/cashier/AddChargesModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { X, Plus, Trash2, Search, ShoppingCart, Package } from 'lucide-react';\r\nimport api, { addCharges, getProducts } from '../../services/api';\r\n\r\nconst AddChargesModal = ({ guest, onClose, onAdded }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [cart, setCart] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingProducts, setLoadingProducts] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [categoryFilter, setCategoryFilter] = useState('all');\r\n  const [showProductSelector, setShowProductSelector] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadProducts();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterProducts();\r\n  }, [products, searchTerm, categoryFilter]);\r\n\r\n  const loadProducts = async () => {\r\n    try {\r\n      const data = await api.get('/cashier/products', { params: { is_active: true } }).then(r => r.data);\r\n      setProducts(data);\r\n      setFilteredProducts(data);\r\n    } catch (error) {\r\n      console.error('Error al cargar productos:', error);\r\n      alert('Error al cargar productos');\r\n    } finally {\r\n      setLoadingProducts(false);\r\n    }\r\n  };\r\n\r\n  const filterProducts = () => {\r\n    let filtered = [...products];\r\n\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(p =>\r\n        p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        p.description?.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (categoryFilter !== 'all') {\r\n      filtered = filtered.filter(p => p.category === categoryFilter);\r\n    }\r\n\r\n    setFilteredProducts(filtered);\r\n  };\r\n\r\n  const addToCart = (product) => {\r\n    const existing = cart.find(item => item.product_id === product.id);\r\n    \r\n    if (existing) {\r\n      setCart(cart.map(item =>\r\n        item.product_id === product.id\r\n          ? { ...item, quantity: item.quantity + 1 }\r\n          : item\r\n      ));\r\n    } else {\r\n      setCart([...cart, {\r\n        product_id: product.id,\r\n        description: product.name,\r\n        quantity: 1,\r\n        unit_price: parseFloat(product.price),\r\n        tax_rate: parseFloat(product.tax_rate) || 0,\r\n        category: product.category\r\n      }]);\r\n    }\r\n  };\r\n\r\n  const removeFromCart = (productId) => {\r\n    setCart(cart.filter(item => item.product_id !== productId));\r\n  };\r\n\r\n  const updateQuantity = (productId, quantity) => {\r\n    if (quantity <= 0) {\r\n      removeFromCart(productId);\r\n    } else {\r\n      setCart(cart.map(item =>\r\n        item.product_id === productId ? { ...item, quantity: parseInt(quantity) } : item\r\n      ));\r\n    }\r\n  };\r\n\r\n  const calculateItemTotal = (item) => {\r\n    const subtotal = item.unit_price * item.quantity;\r\n    const tax = subtotal * (item.tax_rate / 100);\r\n    return subtotal + tax;\r\n  };\r\n\r\n  const calculateTotal = () => {\r\n    return cart.reduce((sum, item) => sum + calculateItemTotal(item), 0);\r\n  };\r\n\r\n  const calculateSubtotal = () => {\r\n    return cart.reduce((sum, item) => sum + (item.unit_price * item.quantity), 0);\r\n  };\r\n\r\n  const calculateTotalTax = () => {\r\n    return cart.reduce((sum, item) => {\r\n      const subtotal = item.unit_price * item.quantity;\r\n      return sum + (subtotal * (item.tax_rate / 100));\r\n    }, 0);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (cart.length === 0) {\r\n      alert('Agregue productos al carrito');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      await addCharges(guest.id, cart);\r\n      alert('Cargos agregados exitosamente');\r\n      onAdded();\r\n    } catch (error) {\r\n      alert(error.response?.data?.error || 'Error al agregar cargos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getCategoryLabel = (category) => {\r\n    const labels = {\r\n      minibar: 'Minibar',\r\n      restaurant: 'Restaurant',\r\n      laundry: 'Lavandería',\r\n      spa: 'Spa',\r\n      other: 'Otros'\r\n    };\r\n    return labels[category] || category;\r\n  };\r\n\r\n  const getCategoryColor = (category) => {\r\n    const colors = {\r\n      minibar: 'bg-blue-100 text-blue-800',\r\n      restaurant: 'bg-green-100 text-green-800',\r\n      laundry: 'bg-purple-100 text-purple-800',\r\n      spa: 'bg-pink-100 text-pink-800',\r\n      other: 'bg-gray-100 text-gray-800'\r\n    };\r\n    return colors[category] || colors.other;\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center p-6 border-b\">\r\n          <div>\r\n            <h3 className=\"text-xl font-bold\">\r\n              Agregar Cargos Extras - Hab. {guest.room_number}\r\n            </h3>\r\n            <p className=\"text-sm text-gray-600 mt-1\">\r\n              {guest.full_name} | Total actual: Bs. {parseFloat(guest.total_amount).toFixed(2)}\r\n            </p>\r\n          </div>\r\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Selector de Productos */}\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h4 className=\"font-semibold text-lg flex items-center gap-2\">\r\n                  <Package className=\"w-5 h-5\" />\r\n                  Productos Disponibles\r\n                </h4>\r\n                <button\r\n                  onClick={() => setShowProductSelector(!showProductSelector)}\r\n                  className=\"text-sm text-blue-600 hover:text-blue-800\"\r\n                >\r\n                  {showProductSelector ? 'Ocultar' : 'Mostrar'}\r\n                </button>\r\n              </div>\r\n\r\n              {showProductSelector && (\r\n                <>\r\n                  {/* Filtros */}\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"relative\">\r\n                      <Search className=\"absolute left-3 top-3 text-gray-400 w-5 h-5\" />\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"input pl-10\"\r\n                        placeholder=\"Buscar productos...\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                      />\r\n                    </div>\r\n                    <select\r\n                      className=\"input\"\r\n                      value={categoryFilter}\r\n                      onChange={(e) => setCategoryFilter(e.target.value)}\r\n                    >\r\n                      <option value=\"all\">Todas las categorías</option>\r\n                      <option value=\"minibar\">Minibar</option>\r\n                      <option value=\"restaurant\">Restaurant</option>\r\n                      <option value=\"laundry\">Lavandería</option>\r\n                      <option value=\"spa\">Spa</option>\r\n                      <option value=\"other\">Otros</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  {/* Lista de Productos */}\r\n                  <div className=\"space-y-2 max-h-96 overflow-y-auto border rounded-lg p-2\">\r\n                    {loadingProducts ? (\r\n                      <div className=\"flex justify-center py-8\">\r\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n                      </div>\r\n                    ) : filteredProducts.length > 0 ? (\r\n                      filteredProducts.map((product) => (\r\n                        <div\r\n                          key={product.id}\r\n                          className=\"border rounded-lg p-3 hover:bg-blue-50 cursor-pointer transition-colors\"\r\n                          onClick={() => addToCart(product)}\r\n                        >\r\n                          <div className=\"flex justify-between items-start\">\r\n                            <div className=\"flex-1\">\r\n                              <p className=\"font-semibold\">{product.name}</p>\r\n                              <p className=\"text-xs text-gray-500 line-clamp-1\">\r\n                                {product.description}\r\n                              </p>\r\n                              <span className={`badge text-xs mt-1 ${getCategoryColor(product.category)}`}>\r\n                                {getCategoryLabel(product.category)}\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"text-right ml-4\">\r\n                              <p className=\"font-bold text-green-600\">\r\n                                Bs. {parseFloat(product.price).toFixed(2)}\r\n                              </p>\r\n                              {product.tax_rate > 0 && (\r\n                                <p className=\"text-xs text-gray-500\">\r\n                                  +{product.tax_rate}% imp.\r\n                                </p>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <div className=\"text-center py-8 text-gray-500\">\r\n                        <Package className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\r\n                        <p>No se encontraron productos</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {/* Carrito */}\r\n            <div className=\"space-y-4\">\r\n              <h4 className=\"font-semibold text-lg flex items-center gap-2\">\r\n                <ShoppingCart className=\"w-5 h-5\" />\r\n                Carrito ({cart.length})\r\n              </h4>\r\n\r\n              {cart.length === 0 ? (\r\n                <div className=\"border-2 border-dashed rounded-lg p-8 text-center text-gray-400\">\r\n                  <ShoppingCart className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\r\n                  <p>Carrito vacío</p>\r\n                  <p className=\"text-sm\">Selecciona productos para agregar</p>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <div className=\"space-y-2 max-h-80 overflow-y-auto\">\r\n                    {cart.map((item) => (\r\n                      <div key={item.product_id} className=\"border rounded-lg p-3 bg-gray-50\">\r\n                        <div className=\"flex justify-between items-start mb-2\">\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"font-semibold text-sm\">{item.description}</p>\r\n                            <span className={`badge text-xs ${getCategoryColor(item.category)}`}>\r\n                              {getCategoryLabel(item.category)}\r\n                            </span>\r\n                          </div>\r\n                          <button\r\n                            onClick={() => removeFromCart(item.product_id)}\r\n                            className=\"text-red-500 hover:text-red-700\"\r\n                          >\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                              onClick={() => updateQuantity(item.product_id, item.quantity - 1)}\r\n                              className=\"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded flex items-center justify-center\"\r\n                            >\r\n                              -\r\n                            </button>\r\n                            <input\r\n                              type=\"number\"\r\n                              min=\"1\"\r\n                              value={item.quantity}\r\n                              onChange={(e) => updateQuantity(item.product_id, e.target.value)}\r\n                              className=\"w-16 text-center border rounded py-1\"\r\n                            />\r\n                            <button\r\n                              onClick={() => updateQuantity(item.product_id, item.quantity + 1)}\r\n                              className=\"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded flex items-center justify-center\"\r\n                            >\r\n                              +\r\n                            </button>\r\n                          </div>\r\n                          <div className=\"text-right\">\r\n                            <p className=\"text-sm text-gray-600\">\r\n                              Bs. {item.unit_price.toFixed(2)} x {item.quantity}\r\n                            </p>\r\n                            <p className=\"font-bold text-green-600\">\r\n                              Bs. {calculateItemTotal(item).toFixed(2)}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n\r\n                  {/* Totales */}\r\n                  <div className=\"border-t pt-4 space-y-2\">\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span className=\"text-gray-600\">Subtotal:</span>\r\n                      <span className=\"font-semibold\">Bs. {calculateSubtotal().toFixed(2)}</span>\r\n                    </div>\r\n                    {calculateTotalTax() > 0 && (\r\n                      <div className=\"flex justify-between text-sm\">\r\n                        <span className=\"text-gray-600\">Impuestos:</span>\r\n                        <span className=\"font-semibold\">Bs. {calculateTotalTax().toFixed(2)}</span>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"flex justify-between text-lg font-bold pt-2 border-t\">\r\n                      <span>Total Cargos:</span>\r\n                      <span className=\"text-green-600\">Bs. {calculateTotal().toFixed(2)}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-yellow-50 border border-yellow-200 p-3 rounded-lg\">\r\n                    <p className=\"text-sm text-yellow-800\">\r\n                      <strong>Nuevo total de la cuenta:</strong> Bs. {(parseFloat(guest.total_amount) + calculateTotal()).toFixed(2)}\r\n                    </p>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"border-t p-6\">\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={handleSubmit}\r\n              disabled={loading || cart.length === 0}\r\n              className=\"btn-success flex-1\"\r\n            >\r\n              {loading ? 'Procesando...' : `Confirmar Cargos (Bs. ${calculateTotal().toFixed(2)})`}\r\n            </button>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"btn-secondary flex-1\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddChargesModal;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,CAAC,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAEC,YAAY,EAAEC,OAAO,QAAQ,cAAc;AAC7E,OAAOC,GAAG,IAAIC,UAAU,EAAEC,WAAW,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAElE,MAAMC,eAAe,GAAGA,CAAC;EAAEC,KAAK;EAAEC,OAAO;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACvD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACwB,IAAI,EAAEC,OAAO,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC4B,eAAe,EAAEC,kBAAkB,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAAC8B,UAAU,EAAEC,aAAa,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACgC,cAAc,EAAEC,iBAAiB,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACkC,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EAEpEC,SAAS,CAAC,MAAM;IACdmC,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAENnC,SAAS,CAAC,MAAM;IACdoC,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACjB,QAAQ,EAAEU,UAAU,EAAEE,cAAc,CAAC,CAAC;EAE1C,MAAMI,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAME,IAAI,GAAG,MAAM9B,GAAG,CAAC+B,GAAG,CAAC,mBAAmB,EAAE;QAAEC,MAAM,EAAE;UAAEC,SAAS,EAAE;QAAK;MAAE,CAAC,CAAC,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACL,IAAI,CAAC;MAClGjB,WAAW,CAACiB,IAAI,CAAC;MACjBf,mBAAmB,CAACe,IAAI,CAAC;IAC3B,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDE,KAAK,CAAC,2BAA2B,CAAC;IACpC,CAAC,SAAS;MACRjB,kBAAkB,CAAC,KAAK,CAAC;IAC3B;EACF,CAAC;EAED,MAAMQ,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAIU,QAAQ,GAAG,CAAC,GAAG3B,QAAQ,CAAC;IAE5B,IAAIU,UAAU,EAAE;MACdiB,QAAQ,GAAGA,QAAQ,CAACC,MAAM,CAACC,CAAC;QAAA,IAAAC,cAAA;QAAA,OAC1BD,CAAC,CAACE,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACvB,UAAU,CAACsB,WAAW,CAAC,CAAC,CAAC,MAAAF,cAAA,GACvDD,CAAC,CAACK,WAAW,cAAAJ,cAAA,uBAAbA,cAAA,CAAeE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACvB,UAAU,CAACsB,WAAW,CAAC,CAAC,CAAC;MAAA,CACjE,CAAC;IACH;IAEA,IAAIpB,cAAc,KAAK,KAAK,EAAE;MAC5Be,QAAQ,GAAGA,QAAQ,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACM,QAAQ,KAAKvB,cAAc,CAAC;IAChE;IAEAT,mBAAmB,CAACwB,QAAQ,CAAC;EAC/B,CAAC;EAED,MAAMS,SAAS,GAAIC,OAAO,IAAK;IAC7B,MAAMC,QAAQ,GAAGlC,IAAI,CAACmC,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,UAAU,KAAKJ,OAAO,CAACK,EAAE,CAAC;IAElE,IAAIJ,QAAQ,EAAE;MACZjC,OAAO,CAACD,IAAI,CAACuC,GAAG,CAACH,IAAI,IACnBA,IAAI,CAACC,UAAU,KAAKJ,OAAO,CAACK,EAAE,GAC1B;QAAE,GAAGF,IAAI;QAAEI,QAAQ,EAAEJ,IAAI,CAACI,QAAQ,GAAG;MAAE,CAAC,GACxCJ,IACN,CAAC,CAAC;IACJ,CAAC,MAAM;MACLnC,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAE;QAChBqC,UAAU,EAAEJ,OAAO,CAACK,EAAE;QACtBR,WAAW,EAAEG,OAAO,CAACN,IAAI;QACzBa,QAAQ,EAAE,CAAC;QACXC,UAAU,EAAEC,UAAU,CAACT,OAAO,CAACU,KAAK,CAAC;QACrCC,QAAQ,EAAEF,UAAU,CAACT,OAAO,CAACW,QAAQ,CAAC,IAAI,CAAC;QAC3Cb,QAAQ,EAAEE,OAAO,CAACF;MACpB,CAAC,CAAC,CAAC;IACL;EACF,CAAC;EAED,MAAMc,cAAc,GAAIC,SAAS,IAAK;IACpC7C,OAAO,CAACD,IAAI,CAACwB,MAAM,CAACY,IAAI,IAAIA,IAAI,CAACC,UAAU,KAAKS,SAAS,CAAC,CAAC;EAC7D,CAAC;EAED,MAAMC,cAAc,GAAGA,CAACD,SAAS,EAAEN,QAAQ,KAAK;IAC9C,IAAIA,QAAQ,IAAI,CAAC,EAAE;MACjBK,cAAc,CAACC,SAAS,CAAC;IAC3B,CAAC,MAAM;MACL7C,OAAO,CAACD,IAAI,CAACuC,GAAG,CAACH,IAAI,IACnBA,IAAI,CAACC,UAAU,KAAKS,SAAS,GAAG;QAAE,GAAGV,IAAI;QAAEI,QAAQ,EAAEQ,QAAQ,CAACR,QAAQ;MAAE,CAAC,GAAGJ,IAC9E,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMa,kBAAkB,GAAIb,IAAI,IAAK;IACnC,MAAMc,QAAQ,GAAGd,IAAI,CAACK,UAAU,GAAGL,IAAI,CAACI,QAAQ;IAChD,MAAMW,GAAG,GAAGD,QAAQ,IAAId,IAAI,CAACQ,QAAQ,GAAG,GAAG,CAAC;IAC5C,OAAOM,QAAQ,GAAGC,GAAG;EACvB,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3B,OAAOpD,IAAI,CAACqD,MAAM,CAAC,CAACC,GAAG,EAAElB,IAAI,KAAKkB,GAAG,GAAGL,kBAAkB,CAACb,IAAI,CAAC,EAAE,CAAC,CAAC;EACtE,CAAC;EAED,MAAMmB,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,OAAOvD,IAAI,CAACqD,MAAM,CAAC,CAACC,GAAG,EAAElB,IAAI,KAAKkB,GAAG,GAAIlB,IAAI,CAACK,UAAU,GAAGL,IAAI,CAACI,QAAS,EAAE,CAAC,CAAC;EAC/E,CAAC;EAED,MAAMgB,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,OAAOxD,IAAI,CAACqD,MAAM,CAAC,CAACC,GAAG,EAAElB,IAAI,KAAK;MAChC,MAAMc,QAAQ,GAAGd,IAAI,CAACK,UAAU,GAAGL,IAAI,CAACI,QAAQ;MAChD,OAAOc,GAAG,GAAIJ,QAAQ,IAAId,IAAI,CAACQ,QAAQ,GAAG,GAAG,CAAE;IACjD,CAAC,EAAE,CAAC,CAAC;EACP,CAAC;EAED,MAAMa,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAI3D,IAAI,CAAC4D,MAAM,KAAK,CAAC,EAAE;MACrBtC,KAAK,CAAC,8BAA8B,CAAC;MACrC;IACF;IAEAnB,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMlB,UAAU,CAACO,KAAK,CAAC8C,EAAE,EAAEtC,IAAI,CAAC;MAChCsB,KAAK,CAAC,+BAA+B,CAAC;MACtC5B,OAAO,CAAC,CAAC;IACX,CAAC,CAAC,OAAO0B,KAAK,EAAE;MAAA,IAAAyC,eAAA,EAAAC,oBAAA;MACdxC,KAAK,CAAC,EAAAuC,eAAA,GAAAzC,KAAK,CAAC2C,QAAQ,cAAAF,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgB/C,IAAI,cAAAgD,oBAAA,uBAApBA,oBAAA,CAAsB1C,KAAK,KAAI,yBAAyB,CAAC;IACjE,CAAC,SAAS;MACRjB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM6D,gBAAgB,GAAIjC,QAAQ,IAAK;IACrC,MAAMkC,MAAM,GAAG;MACbC,OAAO,EAAE,SAAS;MAClBC,UAAU,EAAE,YAAY;MACxBC,OAAO,EAAE,YAAY;MACrBC,GAAG,EAAE,KAAK;MACVC,KAAK,EAAE;IACT,CAAC;IACD,OAAOL,MAAM,CAAClC,QAAQ,CAAC,IAAIA,QAAQ;EACrC,CAAC;EAED,MAAMwC,gBAAgB,GAAIxC,QAAQ,IAAK;IACrC,MAAMyC,MAAM,GAAG;MACbN,OAAO,EAAE,2BAA2B;MACpCC,UAAU,EAAE,6BAA6B;MACzCC,OAAO,EAAE,+BAA+B;MACxCC,GAAG,EAAE,2BAA2B;MAChCC,KAAK,EAAE;IACT,CAAC;IACD,OAAOE,MAAM,CAACzC,QAAQ,CAAC,IAAIyC,MAAM,CAACF,KAAK;EACzC,CAAC;EAED,oBACElF,OAAA;IAAKqF,SAAS,EAAC,gFAAgF;IAAAC,QAAA,eAC7FtF,OAAA;MAAKqF,SAAS,EAAC,iFAAiF;MAAAC,QAAA,gBAE9FtF,OAAA;QAAKqF,SAAS,EAAC,gDAAgD;QAAAC,QAAA,gBAC7DtF,OAAA;UAAAsF,QAAA,gBACEtF,OAAA;YAAIqF,SAAS,EAAC,mBAAmB;YAAAC,QAAA,GAAC,+BACH,EAAClF,KAAK,CAACmF,WAAW;UAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C,CAAC,eACL3F,OAAA;YAAGqF,SAAS,EAAC,4BAA4B;YAAAC,QAAA,GACtClF,KAAK,CAACwF,SAAS,EAAC,uBAAqB,EAACtC,UAAU,CAAClD,KAAK,CAACyF,YAAY,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;UAAA;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eACN3F,OAAA;UAAQ+F,OAAO,EAAE1F,OAAQ;UAACgF,SAAS,EAAC,mCAAmC;UAAAC,QAAA,eACrEtF,OAAA,CAACV,CAAC;YAAC+F,SAAS,EAAC;UAAS;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAGN3F,OAAA;QAAKqF,SAAS,EAAC,4BAA4B;QAAAC,QAAA,eACzCtF,OAAA;UAAKqF,SAAS,EAAC,uCAAuC;UAAAC,QAAA,gBAEpDtF,OAAA;YAAKqF,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACxBtF,OAAA;cAAKqF,SAAS,EAAC,mCAAmC;cAAAC,QAAA,gBAChDtF,OAAA;gBAAIqF,SAAS,EAAC,+CAA+C;gBAAAC,QAAA,gBAC3DtF,OAAA,CAACL,OAAO;kBAAC0F,SAAS,EAAC;gBAAS;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,yBAEjC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACL3F,OAAA;gBACE+F,OAAO,EAAEA,CAAA,KAAMxE,sBAAsB,CAAC,CAACD,mBAAmB,CAAE;gBAC5D+D,SAAS,EAAC,2CAA2C;gBAAAC,QAAA,EAEpDhE,mBAAmB,GAAG,SAAS,GAAG;cAAS;gBAAAkE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,EAELrE,mBAAmB,iBAClBtB,OAAA,CAAAE,SAAA;cAAAoF,QAAA,gBAEEtF,OAAA;gBAAKqF,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxBtF,OAAA;kBAAKqF,SAAS,EAAC,UAAU;kBAAAC,QAAA,gBACvBtF,OAAA,CAACP,MAAM;oBAAC4F,SAAS,EAAC;kBAA6C;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eAClE3F,OAAA;oBACEgG,IAAI,EAAC,MAAM;oBACXX,SAAS,EAAC,aAAa;oBACvBY,WAAW,EAAC,qBAAqB;oBACjCC,KAAK,EAAEhF,UAAW;oBAClBiF,QAAQ,EAAG7B,CAAC,IAAKnD,aAAa,CAACmD,CAAC,CAAC8B,MAAM,CAACF,KAAK;kBAAE;oBAAAV,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAChD,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eACN3F,OAAA;kBACEqF,SAAS,EAAC,OAAO;kBACjBa,KAAK,EAAE9E,cAAe;kBACtB+E,QAAQ,EAAG7B,CAAC,IAAKjD,iBAAiB,CAACiD,CAAC,CAAC8B,MAAM,CAACF,KAAK,CAAE;kBAAAZ,QAAA,gBAEnDtF,OAAA;oBAAQkG,KAAK,EAAC,KAAK;oBAAAZ,QAAA,EAAC;kBAAoB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACjD3F,OAAA;oBAAQkG,KAAK,EAAC,SAAS;oBAAAZ,QAAA,EAAC;kBAAO;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACxC3F,OAAA;oBAAQkG,KAAK,EAAC,YAAY;oBAAAZ,QAAA,EAAC;kBAAU;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAC9C3F,OAAA;oBAAQkG,KAAK,EAAC,SAAS;oBAAAZ,QAAA,EAAC;kBAAU;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAC3C3F,OAAA;oBAAQkG,KAAK,EAAC,KAAK;oBAAAZ,QAAA,EAAC;kBAAG;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAChC3F,OAAA;oBAAQkG,KAAK,EAAC,OAAO;oBAAAZ,QAAA,EAAC;kBAAK;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eAGN3F,OAAA;gBAAKqF,SAAS,EAAC,0DAA0D;gBAAAC,QAAA,EACtEtE,eAAe,gBACdhB,OAAA;kBAAKqF,SAAS,EAAC,0BAA0B;kBAAAC,QAAA,eACvCtF,OAAA;oBAAKqF,SAAS,EAAC;kBAA8D;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjF,CAAC,GACJjF,gBAAgB,CAAC8D,MAAM,GAAG,CAAC,GAC7B9D,gBAAgB,CAACyC,GAAG,CAAEN,OAAO,iBAC3B7C,OAAA;kBAEEqF,SAAS,EAAC,yEAAyE;kBACnFU,OAAO,EAAEA,CAAA,KAAMnD,SAAS,CAACC,OAAO,CAAE;kBAAAyC,QAAA,eAElCtF,OAAA;oBAAKqF,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,gBAC/CtF,OAAA;sBAAKqF,SAAS,EAAC,QAAQ;sBAAAC,QAAA,gBACrBtF,OAAA;wBAAGqF,SAAS,EAAC,eAAe;wBAAAC,QAAA,EAAEzC,OAAO,CAACN;sBAAI;wBAAAiD,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,eAC/C3F,OAAA;wBAAGqF,SAAS,EAAC,oCAAoC;wBAAAC,QAAA,EAC9CzC,OAAO,CAACH;sBAAW;wBAAA8C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACnB,CAAC,eACJ3F,OAAA;wBAAMqF,SAAS,EAAE,sBAAsBF,gBAAgB,CAACtC,OAAO,CAACF,QAAQ,CAAC,EAAG;wBAAA2C,QAAA,EACzEV,gBAAgB,CAAC/B,OAAO,CAACF,QAAQ;sBAAC;wBAAA6C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC/B,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACJ,CAAC,eACN3F,OAAA;sBAAKqF,SAAS,EAAC,iBAAiB;sBAAAC,QAAA,gBAC9BtF,OAAA;wBAAGqF,SAAS,EAAC,0BAA0B;wBAAAC,QAAA,GAAC,MAClC,EAAChC,UAAU,CAACT,OAAO,CAACU,KAAK,CAAC,CAACuC,OAAO,CAAC,CAAC,CAAC;sBAAA;wBAAAN,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACxC,CAAC,EACH9C,OAAO,CAACW,QAAQ,GAAG,CAAC,iBACnBxD,OAAA;wBAAGqF,SAAS,EAAC,uBAAuB;wBAAAC,QAAA,GAAC,GAClC,EAACzC,OAAO,CAACW,QAAQ,EAAC,QACrB;sBAAA;wBAAAgC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAG,CACJ;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH;gBAAC,GAxBD9C,OAAO,CAACK,EAAE;kBAAAsC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAyBZ,CACN,CAAC,gBAEF3F,OAAA;kBAAKqF,SAAS,EAAC,gCAAgC;kBAAAC,QAAA,gBAC7CtF,OAAA,CAACL,OAAO;oBAAC0F,SAAS,EAAC;kBAAmC;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eACzD3F,OAAA;oBAAAsF,QAAA,EAAG;kBAA2B;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/B;cACN;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA,eACN,CACH;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGN3F,OAAA;YAAKqF,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACxBtF,OAAA;cAAIqF,SAAS,EAAC,+CAA+C;cAAAC,QAAA,gBAC3DtF,OAAA,CAACN,YAAY;gBAAC2F,SAAS,EAAC;cAAS;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,aAC3B,EAAC/E,IAAI,CAAC4D,MAAM,EAAC,GACxB;YAAA;cAAAgB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAEJ/E,IAAI,CAAC4D,MAAM,KAAK,CAAC,gBAChBxE,OAAA;cAAKqF,SAAS,EAAC,iEAAiE;cAAAC,QAAA,gBAC9EtF,OAAA,CAACN,YAAY;gBAAC2F,SAAS,EAAC;cAAmC;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC9D3F,OAAA;gBAAAsF,QAAA,EAAG;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eACpB3F,OAAA;gBAAGqF,SAAS,EAAC,SAAS;gBAAAC,QAAA,EAAC;cAAiC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzD,CAAC,gBAEN3F,OAAA,CAAAE,SAAA;cAAAoF,QAAA,gBACEtF,OAAA;gBAAKqF,SAAS,EAAC,oCAAoC;gBAAAC,QAAA,EAChD1E,IAAI,CAACuC,GAAG,CAAEH,IAAI,iBACbhD,OAAA;kBAA2BqF,SAAS,EAAC,kCAAkC;kBAAAC,QAAA,gBACrEtF,OAAA;oBAAKqF,SAAS,EAAC,uCAAuC;oBAAAC,QAAA,gBACpDtF,OAAA;sBAAKqF,SAAS,EAAC,QAAQ;sBAAAC,QAAA,gBACrBtF,OAAA;wBAAGqF,SAAS,EAAC,uBAAuB;wBAAAC,QAAA,EAAEtC,IAAI,CAACN;sBAAW;wBAAA8C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,eAC3D3F,OAAA;wBAAMqF,SAAS,EAAE,iBAAiBF,gBAAgB,CAACnC,IAAI,CAACL,QAAQ,CAAC,EAAG;wBAAA2C,QAAA,EACjEV,gBAAgB,CAAC5B,IAAI,CAACL,QAAQ;sBAAC;wBAAA6C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC5B,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACJ,CAAC,eACN3F,OAAA;sBACE+F,OAAO,EAAEA,CAAA,KAAMtC,cAAc,CAACT,IAAI,CAACC,UAAU,CAAE;sBAC/CoC,SAAS,EAAC,iCAAiC;sBAAAC,QAAA,eAE3CtF,OAAA,CAACR,MAAM;wBAAC6F,SAAS,EAAC;sBAAS;wBAAAG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACxB,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACN,CAAC,eAEN3F,OAAA;oBAAKqF,SAAS,EAAC,mCAAmC;oBAAAC,QAAA,gBAChDtF,OAAA;sBAAKqF,SAAS,EAAC,yBAAyB;sBAAAC,QAAA,gBACtCtF,OAAA;wBACE+F,OAAO,EAAEA,CAAA,KAAMpC,cAAc,CAACX,IAAI,CAACC,UAAU,EAAED,IAAI,CAACI,QAAQ,GAAG,CAAC,CAAE;wBAClEiC,SAAS,EAAC,gFAAgF;wBAAAC,QAAA,EAC3F;sBAED;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC,eACT3F,OAAA;wBACEgG,IAAI,EAAC,QAAQ;wBACbK,GAAG,EAAC,GAAG;wBACPH,KAAK,EAAElD,IAAI,CAACI,QAAS;wBACrB+C,QAAQ,EAAG7B,CAAC,IAAKX,cAAc,CAACX,IAAI,CAACC,UAAU,EAAEqB,CAAC,CAAC8B,MAAM,CAACF,KAAK,CAAE;wBACjEb,SAAS,EAAC;sBAAsC;wBAAAG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACjD,CAAC,eACF3F,OAAA;wBACE+F,OAAO,EAAEA,CAAA,KAAMpC,cAAc,CAACX,IAAI,CAACC,UAAU,EAAED,IAAI,CAACI,QAAQ,GAAG,CAAC,CAAE;wBAClEiC,SAAS,EAAC,gFAAgF;wBAAAC,QAAA,EAC3F;sBAED;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACN,CAAC,eACN3F,OAAA;sBAAKqF,SAAS,EAAC,YAAY;sBAAAC,QAAA,gBACzBtF,OAAA;wBAAGqF,SAAS,EAAC,uBAAuB;wBAAAC,QAAA,GAAC,MAC/B,EAACtC,IAAI,CAACK,UAAU,CAACyC,OAAO,CAAC,CAAC,CAAC,EAAC,KAAG,EAAC9C,IAAI,CAACI,QAAQ;sBAAA;wBAAAoC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAChD,CAAC,eACJ3F,OAAA;wBAAGqF,SAAS,EAAC,0BAA0B;wBAAAC,QAAA,GAAC,MAClC,EAACzB,kBAAkB,CAACb,IAAI,CAAC,CAAC8C,OAAO,CAAC,CAAC,CAAC;sBAAA;wBAAAN,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACvC,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACD,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA,GA9CE3C,IAAI,CAACC,UAAU;kBAAAuC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OA+CpB,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAGN3F,OAAA;gBAAKqF,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,gBACtCtF,OAAA;kBAAKqF,SAAS,EAAC,8BAA8B;kBAAAC,QAAA,gBAC3CtF,OAAA;oBAAMqF,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAChD3F,OAAA;oBAAMqF,SAAS,EAAC,eAAe;oBAAAC,QAAA,GAAC,MAAI,EAACnB,iBAAiB,CAAC,CAAC,CAAC2B,OAAO,CAAC,CAAC,CAAC;kBAAA;oBAAAN,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxE,CAAC,EACLvB,iBAAiB,CAAC,CAAC,GAAG,CAAC,iBACtBpE,OAAA;kBAAKqF,SAAS,EAAC,8BAA8B;kBAAAC,QAAA,gBAC3CtF,OAAA;oBAAMqF,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAC;kBAAU;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACjD3F,OAAA;oBAAMqF,SAAS,EAAC,eAAe;oBAAAC,QAAA,GAAC,MAAI,EAAClB,iBAAiB,CAAC,CAAC,CAAC0B,OAAO,CAAC,CAAC,CAAC;kBAAA;oBAAAN,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxE,CACN,eACD3F,OAAA;kBAAKqF,SAAS,EAAC,sDAAsD;kBAAAC,QAAA,gBACnEtF,OAAA;oBAAAsF,QAAA,EAAM;kBAAa;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAC1B3F,OAAA;oBAAMqF,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,GAAC,MAAI,EAACtB,cAAc,CAAC,CAAC,CAAC8B,OAAO,CAAC,CAAC,CAAC;kBAAA;oBAAAN,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAEN3F,OAAA;gBAAKqF,SAAS,EAAC,sDAAsD;gBAAAC,QAAA,eACnEtF,OAAA;kBAAGqF,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,gBACpCtF,OAAA;oBAAAsF,QAAA,EAAQ;kBAAyB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,SAAK,EAAC,CAACrC,UAAU,CAAClD,KAAK,CAACyF,YAAY,CAAC,GAAG7B,cAAc,CAAC,CAAC,EAAE8B,OAAO,CAAC,CAAC,CAAC;gBAAA;kBAAAN,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7G;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC;YAAA,eACN,CACH;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN3F,OAAA;QAAKqF,SAAS,EAAC,cAAc;QAAAC,QAAA,eAC3BtF,OAAA;UAAKqF,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBtF,OAAA;YACE+F,OAAO,EAAE1B,YAAa;YACtBiC,QAAQ,EAAExF,OAAO,IAAIF,IAAI,CAAC4D,MAAM,KAAK,CAAE;YACvCa,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAE7BxE,OAAO,GAAG,eAAe,GAAG,yBAAyBkD,cAAc,CAAC,CAAC,CAAC8B,OAAO,CAAC,CAAC,CAAC;UAAG;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9E,CAAC,eACT3F,OAAA;YACE+F,OAAO,EAAE1F,OAAQ;YACjBgF,SAAS,EAAC,sBAAsB;YAAAC,QAAA,EACjC;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACpF,EAAA,CAvXIJ,eAAe;AAAAoG,EAAA,GAAfpG,eAAe;AAyXrB,eAAeA,eAAe;AAAC,IAAAoG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}